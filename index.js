import express from 'express'
import cors from 'cors'
import { dirname } from 'path'
import { fileURLToPath } from 'url'

/*
 ** ** ==============================================================================
 ** ** ** INIT
 ** ** ==============================================================================
 */
const app = express()

/*
 ** ** ==============================================================================
 ** ** ** CONSTS
 ** ** ==============================================================================
 */
const PORT = 3000
const API_ENDPOINT = '/api/v1'
const DIR_NAME = dirname(fileURLToPath(import.meta.url))

/*
 ** ** ==============================================================================
 ** ** ** Middlewares
 ** ** ==============================================================================
 */
app.use(cors())
app.use(express.json())

/*
 ** ** ==============================================================================
 ** ** ** Routes
 ** ** ==============================================================================
 */
//Login Page
app.get('/', (req, res) => res.sendFile('views/index.html', { root: DIR_NAME }))

/*
 ** ** ==============================================================================
 ** ** ** Start the http server
 ** ** ==============================================================================
 */
app.listen(PORT, () =>
  console.log(`Server started listening on port \t\t\t[${PORT}]`)
)
